<!DOCTYPE html>
<html> 
<head>
   	<meta http-equiv="content-type" content="text/html; charset=utf-8" /> 
 	<meta name="viewport" content="width=1300" />
	<meta name="keywords" content="вконтакте, звук, вкзвук, vkzvuk, безопасность вконтакте" />
	<meta name="description" content="Безопасность сервиса vkZvuk. Собственное расширение." /> 
	<meta property="og:image" content="/assets/images/adv.png" />
	<link rel="image_src" href="/assets/images/adv.png" /> 
	<link rel="stylesheet" href="/assets/styles/common.css?5" type="text/css" media="screen" />
 	<link rel="stylesheet" href="/assets/styles/single.css?2" type="text/css" media="screen" /> 
	<!--[if lt IE 9]>
		<link rel="stylesheet" href="/assets/styles/iefix.css" type="text/css" media="screen" />
		<script type="text/javascript">var ie = true</script> 
	<![endif]-->
	<link rel="icon" type="image/png" href="/assets/images/favicon.png" />
 	<link href="//fonts.googleapis.com/css?family=PT+Sans&amp;subset=latin,cyrillic" rel="stylesheet" type="text/css" />
	<title>Безопасность сервиса / vkZvuk.ru</title>
</head>
<body>
	<header>
		
	</header> 

 	<div class="single">
		<div class="label">
			<a href="https://vkzvuk.ru/"><img src="/assets/images/label.png" alt="vkZvuk" /></a>
		</div>  
		<h1>Безопасность сервиса и конфиденциальность данных <a name="security" href="#security">#</a></h1>
		<div class="single-text">
			<p>Я отлично понимаю, что все пользователи социальных сетей устали от различных взломов аккаунтов и спама. Каждый новый сервис типа "бесплатных подарков" и "гостей странички" воспринимается в штыки. В этом нет ничего плохого, более того, я сам советую всем относиться к подобному с осторожностью. Однако не стоит на корню рубить всё, что вам кажется странным. </p>
			<p>Далее я постараюсь объяснить, почему я, как один из разработчиков сервиса, никогда не получу доступ к вашему аккаунту и другим приватным данным. </p> 
			<p>Во-первых, это технически невозможно. Пароли пользователей ни в каком виде, подчеркиваю, ни в каком виде, не проходят через расширение или сайт. Получение файлов cookie не даст доступ к аккаунту, так как сессия привязывается к ip-адресу. Авторизация на сайте производится по протоколу oauth, который предоставляет ВКонтакте. На сервере проекта не хранятся никакие критичные данные пользователей, кроме звука сообщения. К самому серверу имеется виртуальный доступ только у одного человека. Хостинг-провайдер Linode. Доступ осуществляется только в зашифрованном виде по протоколу https.</p> 
			<p>Во-вторых, мне это не надо. Серьезно. Я никогда не стал бы рисковать своей репутацией ради нескольких разовых фейков ВКонтакте, тем более, что их можно в огромном количестве найти на pastebin или парой запросов в гугле. Более того, расширение заапрувил google в своем webstore. Для тех кто не знает, гугл собирает пошлину в $5, тем самым проверяя реальность разработчика и его платежные данные. Помимо этого, у меня очень старый профиль ВКонтакте, несмотря на отсутствие «друзей». Я автор нескольких крупных приложений, и администратор группы с 25 тысячами пользователей. ВКонтакте знает обо мне всё. А скрываться стоило бы в первую очередь от них. Дополнительно к этому, хочу отметить, что домен <a href="http://whois.notset.ru/vkzvuk.ru">http://whois.notset.ru/vkzvuk.ru</a> имеет статус <strong>VERIFIED</strong>, это напрямую говорит о том, что регистратор REGRU знает мои паспортные данные. </p> 
			<p>В-третьих, все исходники сервиса открыты, код расширений может посмотреть каждый, а подгружаемые скрипты доступны с клиента. Как я уже писал выше, все соединения зашифрованы через ssl, перехват и подмена трафика практически невозможны. Безопасность пользователей и приватность их данных имеет для меня самый высокий приоритет. </p> 
			<p>Несмотря на все это, хочу еще раз поддержать каждого в намерении быть подозрительным. При вводе своего пароля вконтакте обязательно проверяйте адресную строку браузера. Домен второго уровня должен быть vk.com и никакой больше. Второй уровень значит, что после vk.com в общем случае не должно стоять точки. </p> 
			<p><img src="/pages/privacy/vk-oauth.png" title="вконтакте oauth" /></p>
			<p>Если хотя бы на секунду у вас возникли сомнения в безопасности расширений и сайта <a href="https://vkzvuk.ru">vkzvuk.ru</a>, не пожалейте, пожалуйста, времени написать мне об этом на <a href="mailto:ask@vkzvuk.ru">ask@vkzvuk.ru</a> или в личном сообщении. Я готов предоставить любые релевантные данные, только чтобы мои пользователи чувствовали себя в безопасности.</p> 

			<h2>Собственная реализация расширения <a name="custom" href="#custom">#</a></h2>
			<p>Задача команды vkZvuk предоставлять пользователям сервис. Не ПО, не контент, а именно услугу. В связи с этим, все исходники открыты, и каждый может собрать собственное расширение, если по каким-то причинам не доверяет готовому решению. Далее я расскажу, что для этого нужно.</p>
			<p>Главную цель во всем процессе выполняет расширение. Сайт нужен лишь для хранения скрипта, который внедряется на страницу ВКонтакте, и звуков. И если звук, загруженный со стороннего ресурса не сможет причинить вреда, то javascript имеет слишком много возможностей для манипуляций на сайте. Посему постараемся обезопасить доступ к нему.</p>
			<p>Идея расширения состоит в том, чтобы запретить загрузку с сервера ВКонтакте скрипта <strong>notifier.js</strong>, отвечающего в том числе и за проигрывание звуковых уведомлений, а вместо него подставить собственный файл с небольшими изменениями. </p>
			<p>Первым делом, необходимо скачать расширение для вашего браузера. Все они доступны для загрузки по следующим адресам:</p>
			<ul>
				<li><a href="https://vkzvuk.ru/download/chrome/vkzvuk.crx">Google Chrome</a></li>
				<li><a href="https://vkzvuk.ru/download/firefox/vkzvuk.xpi">Mozilla Firefox</a></li> 
				<li><a href="https://vkzvuk.ru/download/opera/vkzvuk.oex">Opera</a></li> 
			</ul>
			<p>Если расширение автоматически запускается после перехода по ссылке, просто скачайте его другим браузером.</p>
			<p>Аддон для Firerox и Opera можно распаковать как обычный zip архив. Дополнение для Google Chrome же, сначала необходимо установить на странице <code>chrome://extensions/</code>, после чего найти исходники в папке с пользовательскими файлами браузера. Релевантную помощь можно найти <a href="http://stackoverflow.com/a/4980410" target="_blank" title="Ссылка откроется в новом окне. (Незащищенное содинение)">здесь</a>.</p>
			<p>Если вы хотите сохранить функциональность замены звука на нашем сайте, просто скачайте скрипт <a href="https://assets.vkzvuk.ru/notifier.js">https://assets.vkzvuk.ru/notifier.js</a> и залейте его на какой-нибудь доверенный сервер. Адрес этого скрипта нужно будет прописать в расширении на следующем шаге.</p>
			<p>В коде скачанного дополнения нужно заменить ссылку <code>https://assets.vkzvuk.ru/notifier.js</code> на собственный адрес, по которому будет располагаться ваш javascript. Также вы можете положить этот скрипт прямо в пакет расширения локально. (Если вы редактируете аддон браузера Opera, ищите ссылку в файле includes/vk.js).</p>
			<p>Если же вы хотите полностью отказаться от использования сайта, необходимо разобраться в самом файле <strong>notifier.js</strong>. Проблема в том, что ВКонтакте может менять его на свое усмотрение когда угодно. Поэтому необходимо его своевременно обновлять, чтобы работа социальной сети не пострадала. </p>
			<p>Скрипт, который используется ВКонтакте находится по адресу <a href="http://vk.me/js/al/notifier.js?no-cache">http://vk.me/js/al/notifier.js</a>. После скачивания его, найдите поиском строку <code>audioObj.src = '/' + filename + ext;</code> и вставьте ссылку на ваш звук.</p>
			<p>Теперь просто заново запакуйте получившееся расширение и добавьте в браузер. </p>
			<p>vkZvuk ежечасно проверяет, не обновился ли файл <strong>notifier.js</strong>. Для вашего удобства, обо всех изменениях скрипта, мы будем информировать в нашем Твиттере <a href="https://twitter.com/vkzvuk">@vkZvuk</a>. </p>
			<p>Инструкция рассчитана не на новичков, поэтому при возникновении вопросов, пишите мне, я постараюсь помочь. Этот материал будет дополняться в будущем.</p>
			<p class="author">С уважением, Антон Лукин.</p>
		</div>
	</div>
   
	<footer>
		<div class="footer-border">
			<div class="blue"></div><div class="green"></div><div class="gray"></div><div class="red"></div>
		</div>

		<div class="footer-links" id="vk-like"></div>


		<div class="footer-copy">
			<p>&copy; 2013 &nbsp;vkZvuk <span title="Сайт работает в режиме открытого тестирования">&beta;</span></p>
		</div>
	</footer>    
 	<script type="text/javascript" src="//vk.com/js/api/share.js?11" charset="windows-1251"></script> 
 	<script type="text/javascript">
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-30717968-2']);
	  _gaq.push(['_trackPageview']);

	  (function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	</script> 
</body>
</html>
